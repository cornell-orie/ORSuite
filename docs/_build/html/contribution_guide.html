

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ORSuite Contribution Guide &mdash; ORSuite  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Environments" href="envs.html" />
    <link rel="prev" title="Welcome to ORSuite’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ORSuite
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Important Files:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">ORSuite Contribution Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#environment-contribution-guide">Environment Contribution Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gym-spaces">Gym Spaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agent-contribution-guide">Agent Contribution Guide</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="envs.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments.html">Experiments</a></li>
</ul>
<p class="caption"><span class="caption-text">Problem Notebooks:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="airline_revenue_readme.html">Revenue Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="ambulance_routing_readme.html">The Ambulance Routing Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="bandit_readme.html">The Multi-Armed Bandit Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory_control_readme.html">Inventory Control with Lead Times and Multiple Suppliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="oil_discovery_readme.html">The Oil Discovery Problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource_allocation_readme.html">Resource Allocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vaccine_allocation_readme.html">The Vaccine Allocation Problem</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ORSuite</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ORSuite Contribution Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/contribution_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="orsuite-contribution-guide">
<h1>ORSuite Contribution Guide<a class="headerlink" href="#orsuite-contribution-guide" title="Permalink to this headline">¶</a></h1>
<p>ORSuite is a collection of environments, agents, and instrumentation, aimed at providing researchers in computer science and operations research reinforcement learning implementation of various problems and models arising in operations research.  In general, reinforcement learning aims to model agents interacting with an unknown environment, where the agents are given rewards by the environment based on the actions they take.  The goal then, is to develop agents for different environments that maximize their long term cumulative reward.  As such, the ORSuite package contains three main components</p>
<ul class="simple">
<li><p>agents</p></li>
<li><p>environments</p></li>
<li><p>instrumentation</p></li>
</ul>
<p>Our agents, contained in <code class="docutils literal notranslate"><span class="pre">or_suite/agents/</span></code> are implemented specifically for a variety of models in operations research.  Moreover, we also include some black-box RL algorithms for continuous spaces in <code class="docutils literal notranslate"><span class="pre">or_suite/agents/rl/</span></code>.  The environments, contained in <code class="docutils literal notranslate"><span class="pre">or_suite/envs/</span></code> are subclasses of OpenAI Gym environments, using the same action and observation spaces which makes it relatively easy to design agents that will interact with a given environment.  Lastly we provide instrumentation, <code class="docutils literal notranslate"><span class="pre">or_suite/experiments/</span></code> which outlines finite horizon experiments collecting data about a given agent interacting with an environment.</p>
<p>In this guide we outline how to contribute to the ORSuite package by adding either an additional agent or environment.</p>
<div class="section" id="environment-contribution-guide">
<h2>Environment Contribution Guide<a class="headerlink" href="#environment-contribution-guide" title="Permalink to this headline">¶</a></h2>
<p>Our environments, contained in <code class="docutils literal notranslate"><span class="pre">or_suite/envs/</span></code> are implemented as a subclass of an OpenAI gym environment.  For more details on creating a new environment see the guide <a class="reference external" href="https://stable-baselines.readthedocs.io/en/master/guide/custom_env.html">here</a>.  When adding an environment we require the following file structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">or_suite</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">new_env_name</span><span class="p">:</span>
    <span class="o">-&gt;</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">-&gt;</span> <span class="n">env_name</span><span class="o">.</span><span class="n">py</span>
    <span class="o">-&gt;</span> <span class="n">env_name_readme</span><span class="o">.</span><span class="n">ipynb</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file should simply import the environment class from <code class="docutils literal notranslate"><span class="pre">env_name.py</span></code>.  The <code class="docutils literal notranslate"><span class="pre">env_name_readme.ipynb</span></code> is an optional jupyter notebook outlining the environment model, including specifying the state space, action space, transitions and rewards, and describing the parameters the user can use to configure the environment file.  Lastly, the <code class="docutils literal notranslate"><span class="pre">env_name.py</span></code> should implement the environment as a subclass of the openAI gym environment.  In particular, it should have the following structure:</p>
<ul class="simple">
<li><p>The environment needs to be a class which is inherited from <code class="docutils literal notranslate"><span class="pre">gym.Env</span></code>.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">__init__</span></code> you need to create two variables with fixed names and types.  The first, <code class="docutils literal notranslate"><span class="pre">self.action_space</span></code> outlines the space of actions the agent can play in.  The second, <code class="docutils literal notranslate"><span class="pre">self.observation_space</span></code> indicates the states of the environment.  Both of these need to be one of Gym’s special class, called <code class="docutils literal notranslate"><span class="pre">space</span></code>, which outlines potential and common state and action spaces in reinforcement learning environments.  This is outlined more in the guide later.  We also typically have the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function take as input <code class="docutils literal notranslate"><span class="pre">config</span></code>, a dictionary outlining parameters for the environment.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reset</span></code> function which returns a value that is within <code class="docutils literal notranslate"><span class="pre">self.observation_space</span></code>. This is the function that will re-start the environment, say, at the start of a game.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">step</span></code> function has one input parameter, <code class="docutils literal notranslate"><span class="pre">action</span></code> which is contained within <code class="docutils literal notranslate"><span class="pre">self.action_space</span></code>.  This function then dictates the step of the model, requiring a return of a 4-tuple in the following order:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code>, a member of <code class="docutils literal notranslate"><span class="pre">self.observation_space</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reward</span></code>, a number that informs the agent about the immediate consequences of its action</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">done</span></code>, a boolean, value that is true if the environment reached an endpoint</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code>, a dictionary outlining the potential side information available to the algorithm</p></li>
</ul>
</li>
</ul>
<p>Once the environment file structure has been made, in order to include the environment in the package we additionally require:</p>
<ul class="simple">
<li><p>Specify default parameter values for the configuration dictionary of the environment, which is saved in <code class="docutils literal notranslate"><span class="pre">or_suite/envs/env_configs.py</span></code></p></li>
<li><p>Register the environment by modifying <code class="docutils literal notranslate"><span class="pre">or_suite/envs/__init__.py</span></code> to include a link to the class along with a name</p></li>
<li><p>Modify <code class="docutils literal notranslate"><span class="pre">or_suite/envs/__init__.py</span></code> to import the new environment folder.</p></li>
</ul>
<div class="section" id="gym-spaces">
<h3>Gym Spaces<a class="headerlink" href="#gym-spaces" title="Permalink to this headline">¶</a></h3>
<p>Every environment in ORSuite consists of an action and observation space that are both <a class="reference external" href="https://github.com/openai/gym/tree/master/gym/spaces">OpenAI Gym space</a> objects. The action space is all possible actions that can be chosen by the agent, and the observation space is all possible states that the environment can be in. Knowing what kind of spaces are used by the environment your agent is trying to interact with will allow you to write an agent that can effectively communicate with the environment.</p>
<p>Both the observation space and the action space will be of one of these types:</p>
<p><code class="docutils literal notranslate"><span class="pre">box</span></code>: an n-dimensional continuous feature space with an upper and lower bound for each dimension</p>
<p><code class="docutils literal notranslate"><span class="pre">dict</span></code>: a dictionary of simpler spaces and labels for those spaces</p>
<p><code class="docutils literal notranslate"><span class="pre">discrete</span></code>: a discrete space over n integers { 0, 1, …, n-1 }</p>
<p><code class="docutils literal notranslate"><span class="pre">multi_binary</span></code>: a binary space of size n</p>
<p><code class="docutils literal notranslate"><span class="pre">multi_discrete</span></code>: allows for multiple discrete spaces with a different number of actions in each</p>
<p><code class="docutils literal notranslate"><span class="pre">tuple</span></code>: a tuple space is a tuple of simpler spaces</p>
</div>
</div>
<div class="section" id="agent-contribution-guide">
<h2>Agent Contribution Guide<a class="headerlink" href="#agent-contribution-guide" title="Permalink to this headline">¶</a></h2>
<p>Our agents, contained in <code class="docutils literal notranslate"><span class="pre">or_suite/agents/</span></code> are implemented as a subclass of an agent as outlined in <code class="docutils literal notranslate"><span class="pre">or_suite/agents/agent.py</span></code>.  When adding an agent for a specific environment we require the following file structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">or_suite</span><span class="o">/</span><span class="n">agents</span><span class="o">/</span><span class="n">env_name</span><span class="p">:</span>
    <span class="o">-&gt;</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="o">-&gt;</span> <span class="n">agent_name</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Or, if the agent is more general purpose it should be added under <code class="docutils literal notranslate"><span class="pre">or_suite/agents/RL</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file should simply import the agent class from <code class="docutils literal notranslate"><span class="pre">agent_name.py</span></code>.  The <code class="docutils literal notranslate"><span class="pre">env_name_readme.ipynb</span></code> is an optional jupyter notebook outlining the environment model, including specifying the state space, action space, transitions and rewards, and describing the parameters the user can use to configure the environment file.  Lastly, the <code class="docutils literal notranslate"><span class="pre">agent_name.py</span></code> should implement the agent as a subclass of the Agent environment.  In particular, it should have the following structure:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__init__(config)</span></code>: initializes any necessary information for the agent (such as episode length, or information about the structure of the environment) stored in the <code class="docutils literal notranslate"><span class="pre">config</span></code> dictionary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_obs(obs,</span> <span class="pre">action,</span> <span class="pre">reward,</span> <span class="pre">newObs,</span> <span class="pre">timestep,</span> <span class="pre">info)</span></code>: updates any information needed by the agent using the information passed in.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">obs</span></code>: the state of the system at the previous timestep</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">action</span></code>: the most recent action chosen by the agent</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reward</span></code>: the reward received by the agent for their most recent action</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">newObs</span></code>: the state of the system at the current timestep</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestep</span></code>: the current timestep</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code>: a dictionary potentially containing additional information, see specific environment for details</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_policy(self,</span> <span class="pre">h)</span></code>: updates internal policy based upon records, where h is the timestep</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pick_action(state,</span> <span class="pre">step)</span></code>: given the current state of the environment and timestep, <code class="docutils literal notranslate"><span class="pre">pick_action</span></code> chooses and returns an action from the action space.</p></li>
</ul>
<p>Once the file is set-up, ensure that the new folder or code is added to the import statements within <code class="docutils literal notranslate"><span class="pre">or_suite/agents/__init__.py</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="envs.html" class="btn btn-neutral float-right" title="Environments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to ORSuite’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Christina Yu.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>